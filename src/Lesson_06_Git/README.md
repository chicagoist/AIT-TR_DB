Задачи на урок:

    Зачем нужен Git?
    Что такое репозиторий?
    Чем такое клонирование? Локальный репозиторий. Папка .git
    Что такое форк?
    Что такое пулл-реквест?

Ссылки

    Git: введение
    Git: зачем?
    Git: официальная шпаргалка

GIT - система контроля версий

    Git - вспомогательная программа (инструмент) любого разработчика
    GitHub - интернет-площадка (хостинг проектов)
    GitHub Pages - сервис GitHub (хостинг статических файлов)

Необходимые знания для командной работы

    Базовый порядок работы с Git
    Механизм ветвления
    Модели совместной разработки
    Их особенности и порядок действий

Виды программных интерфейсов

    GUI (Graphical User Interface) - графический интерфейс пользователя
    CLI (Command Line Interface) - интерфейс командной строки

Этапы работы

    Подготовительный этап
        (только для Windows) установка GIT на компьютер https://git-scm.com/downloads
        настройка Git на компьютере:
            git config --global -l посмотреть текущие настройки
            git config --global user.name "Ivanov Ivan" настройка имени
            git config --global user.email "my_email@example.org" настройка email
        наличие аккаунта на GitHub
        выгрузить публичный ключ на GitHub
            просмотр публичного ключа (если ошибка, то надо сгенерировать)
                cat ~/.ssh/id_ed25519.pub
                cat ~/.ssh/id_rsa.pub
            ssh-keygen -t ed25519 -C 'email@example.org' сгенирировать пару ключей (ВЫПОЛНИТЬ ТОЛЬКО В НАЧАЛЕ КАРЬЕРЫ)
            скопировать публичный ключ на GitHub
            ssh -T git@github.com проверить, что ключ выгружен на GitHub

Проверка текущей версии Git

git -v

Основные способы авторизации в Интернет

    По паролю
    По RSA/SSH-ключам (текстовые файлы)
        используют в профе. среде
        позволяет выполнять авторизацию без пароля (прозрачно)
        подразумевает наличие пары ключей
            публичный (public) - можно делиться со всеми
            приватный (private) - храним в секрете

Базовый (основной) порядок работы с GIT

    git init создать пустой репо (выполняется один раз, для нового проекта)
    git remote add origin <ссылка> выполнить привязку LOCAL ↔ REMOTE (делается один раз для нового проекта)
    **git add .** поставить все файлы проекта на контроль
    **git commit -m 'описание изменений'** выполнить коммит (сохранение)
    Создание нового репо на GitHub (один проект - один репо)
    git push -u origin main выгрузить на GitHub
        git push (короткий вариант для следующих коммитов)

Fork-based workflow

Fork-based workflow - модель совместной разработки, основанная на форках (клонировании) репозиториев. Обычно применяется в открытом программном обеспечении, когда разработчик хочет внести свой вклад в проект, но не имеет прав на запись в оригинальный репозиторий (не состоит в команде разработчиков).

    Главный разработчик создает репозиторий
    Другой разработчик форкает репозиторий
    Другой разработчик клонирует форк
    Другой разработчик вносит изменения
    Другой разработчик делает pull request
    Главный разработчик принимает pull request
    Главный разработчик делает merge pull request

Homework
Задание 1 (по желанию)

    Создайте свой репозиторий с нуля на github, добавьте в него несколько файлов, скиньте ссылку преподавателю.

Дополнительное задание по MongoDB

Создайте коллекции libraries и books (библиотеки и книги). В одной библиотеке может быть много книг. Напишите запросы:

    Вывести все книги с названиями библиотек
    Вывести все библиотеки с их книгами
    Вывести количество книг в каждой библиотеке (нужно будет группировать книги по библиотеке)
    Вывести только те библиотеки, в которых есть книги Пушкина

./code/homework.mongodb.js

use("auto");

// db.cars.drop();

// db.cars.insertMany([
//   {
//     _id: 1,
//     brand: "BMW",
//     price: 20000,
//     model: "X5",
//     year: 2015,
//     horsepower: 300,
//   },
//   {
//     _id: 2,
//     brand: "BMW",
//     price: 25000,
//     model: "X6",
//     year: 2016,
//     horsepower: 320,
//   },
//   {
//     _id: 3,
//     brand: "Toyota",
//     price: 18000,
//     model: "Camry",
//     year: 2018,
//     horsepower: 268,
//   },
//   {
//     _id: 4,
//     brand: "Mercedes",
//     price: 35000,
//     model: "E-Class",
//     year: 2019,
//     horsepower: 295,
//   },
//   {
//     _id: 5,
//     brand: "BMW",
//     price: 30000,
//     model: "X3",
//     year: 2017,
//     horsepower: 280,
//   },
//   {
//     _id: 6,
//     brand: "Toyota",
//     price: 22000,
//     model: "Corolla",
//     year: 2020,
//     horsepower: 169,
//   },
//   {
//     _id: 7,
//     brand: "Audi",
//     price: 33000,
//     model: "A6",
//     year: 2021,
//     horsepower: 335,
//   },
//   {
//     _id: 8,
//     brand: "Tesla",
//     price: 45000,
//     model: "Model 3",
//     year: 2022,
//     horsepower: 450,
//   },
//   {
//     _id: 9,
//     brand: "BMW",
//     price: 28000,
//     model: "5 Series",
//     year: 2018,
//     horsepower: 248,
//   },
//   {
//     _id: 10,
//     brand: "Toyota",
//     price: 30000,
//     model: "RAV4",
//     year: 2021,
//     horsepower: 203,
//   },
// ]);

// db.cars.aggregate([
//   {
//     $group: {
//       _id: "$brand",
//       averagePrice: {
//         $avg: "$price",
//       },
//     },
//   },
// ]);

// db.cars.aggregate([
//   {
//     $group: {
//       _id: "$year",
//       averagePrice: {
//         $avg: "$price",
//       },
//     },
//   },
// ]);

// db.cars.aggregate([
//   {
//     $group: {
//       _id: "$brand",
//       maxHorsePower: {
//         $max: "$horsepower",
//       },
//     },
//   },
// ]);

// db.cars.aggregate([
//   {
//     $sort: { price: 1 },
//   },
//   {
//     $limit: 3,
//   },
// ]);

// выведем бренд с макс. кол-вом машин
// db.cars.aggregate([
//   {
//     $group: {
//       _id: "$brand",
//       carsCount: {
//         $count: {},
//       },
//     },
//   },
//   {
//     $sort: {
//       carsCount: -1,
//     },
//   },
//   {
//     $limit: 1,
//   },
// ]);

// db.cars.aggregate([
//   {
//     $match: {
//       brand: "BMW",
//     },
//   },
//   {
//     $sort: { price: -1 },
//   },
//   {
//     $limit: 3,
//   },
// ]);

// db.cars.aggregate([
//   {
//     $match: {
//       brand: "BMW",
//     },
//   },
//   {
//     $sample: {
//       size: 1,
//     },
//   },
// ]);

// db.owners.insertMany([
//   {
//     _id: 1,
//     owner: "Ivanov Ivan",
//     phone: "1234567",
//     cars: [1, 2, 3]
//   },
//   {
//     _id: 2,
//     owner: "Petrova Maria",
//     phone: "7654321",
//     cars: [4, 5]
//   },
//   {
//     _id: 3,
//     owner: "Sidorov Alexey",
//     phone: "1122334",
//     cars: [6, 7, 8]
//   },
//   {
//     _id: 4,
//     owner: "Kuznetsova Olga",
//     phone: "5566778",
//     cars: [9, 10]
//   }
// ]);

// db.owners.aggregate([
//   {
//     $lookup: {
//       from: "cars",
//       localField: "cars",
//       foreignField: "_id",
//       as: "cars",
//     },
//   },
// ]);

// db.owners.aggregate([
//   {
//     $lookup: {
//       from: "cars",
//       localField: "cars",
//       foreignField: "_id",
//       as: "cars",
//     },
//   },
//   {
//     $match: {
//       "cars.price": {
//         $gt: 35000,
//       },
//     },
//   },
// ]);

db.cars.aggregate([
  {
    $lookup: {
      from: "owners",
      localField: "_id",
      foreignField: "cars",
      as: "owner",
    },
  },
  {
    $group: {
      _id: "$owner.owner",
      averagePrice: {
        $avg: "$price",
      },
    },
  },
  {
    $match: {
      averagePrice: { $gt: 30000 },
    },
  },
]);

./code/README.md
git - программа

    Хранит историю всех изменений, которые были внесены в проект
    Отвечает за синхронизацию изменений между серверным и локальными репозиториями
        Помогает сливать вместе разные копии
    Позволяет откатиться на любую версию истории изменений, либо отменить один конкретный коммит

github - сервер и сайт

    Сервер, на котором можно бесплатно хранить серверные-репозитории
    Графический интерфейс для этих репозиториев
    Площадка для открытой разработки проектов (open-source)

Создание репозитория

    Создание репозитория с нуля
        Создаём репо на github
        Клонируем его к себе на компьютер через git clone {url} (нельзя создавать репо внутри другого репо)
            через ls -a можно увидеть есть ли папка .git в текущей папке
        Создаём какие-то файлы
        Отправляем новые файлы на сервер
            git add -A - говорим, что все изменения мы хотим отправить на сервер (кладём бумаги в конверт)
            git commit -m "{ваше сообщение}" - вы даёте название подготовленной пачке изменений (запечатываем конверт и пишем на нём тему)
            git push - отправляем пачку изменений на сервер (отправляем конверт по почте)

Совместная разработка по модели fork-based

    Делаете форк репозитория на github
    Клонируете его к себе на компьютер git clone {url}
    Вносите изменения
    Отправляете изменения на сервер (см. выше: git add -A, git commit -m "{ваше сообщение}", git push)
    Делаете pull-request на github
    Владелец оригинального репозитория принимает или отклоняет ваш pull-request

